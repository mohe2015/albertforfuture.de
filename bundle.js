const MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",toType=e=>({}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()),getUID=e=>{do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelector=e=>{let t=e.getAttribute("data-target");if(!t||"#"===t){const n=e.getAttribute("href");t=n&&"#"!==n?n.trim():null}return t},getSelectorFromElement=e=>{const t=getSelector(e);return t&&document.querySelector(t)?t:null},getElementFromSelector=e=>{const t=getSelector(e);return t?document.querySelector(t):null},getTransitionDurationFromElement=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const s=parseFloat(t),i=parseFloat(n);return s||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(t)+parseFloat(n))):0},triggerTransitionEnd=e=>{const t=document.createEvent("HTMLEvents");t.initEvent(TRANSITION_END,!0,!0),e.dispatchEvent(t)},isElement=e=>(e[0]||e).nodeType,emulateTransitionEnd=(e,t)=>{let n=!1;const s=t+5;e.addEventListener(TRANSITION_END,(function t(){n=!0,e.removeEventListener(TRANSITION_END,t)})),setTimeout(()=>{n||triggerTransitionEnd(e)},s)},typeCheckConfig=(e,t,n)=>{Object.keys(n).forEach(s=>{const i=n[s],o=t[s],a=o&&isElement(o)?"element":(r=o,{}.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase());var r;if(!new RegExp(i).test(a))throw new Error(`${e.toUpperCase()}: `+`Option "${s}" provided type "${a}" `+`but expected type "${i}".`)})},makeArray=e=>e?[].slice.call(e):[],reflow=e=>e.offsetHeight,getjQuery=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-no-jquery")?e:null},mapData=(()=>{const e={};let t=1;return{set(n,s,i){void 0===n.key&&(n.key={key:s,id:t},t++),e[n.key.id]=i},get(t,n){if(!t||void 0===t.key)return null;const s=t.key;return s.key===n?e[s.id]:null},delete(t,n){if(void 0===t.key)return;const s=t.key;s.key===n&&(delete e[s.id],delete t.key)}}})(),Data={setData(e,t,n){mapData.set(e,t,n)},getData:(e,t)=>mapData.get(e,t),removeData(e,t){mapData.delete(e,t)}};let{matches:matches,closest:closest}=Element.prototype,find=Element.prototype.querySelectorAll,findOne=Element.prototype.querySelector,createCustomEvent=(e,t)=>new CustomEvent(e,t);"function"!=typeof window.CustomEvent&&(createCustomEvent=(e,t)=>{t=t||{bubbles:!1,cancelable:!1,detail:null};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n});const workingDefaultPrevented=(()=>{const e=document.createEvent("CustomEvent");return e.initEvent("Bootstrap",!0,!0),e.preventDefault(),e.defaultPrevented})();if(!workingDefaultPrevented){const e=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(e.call(this),Object.defineProperty(this,"defaultPrevented",{get:()=>!0,configurable:!0}))}}const defaultPreventedPreservedOnDispatch=(()=>{const e=createCustomEvent("Bootstrap",{cancelable:!0}),t=document.createElement("div");return t.addEventListener("Bootstrap",()=>null),e.preventDefault(),t.dispatchEvent(e),e.defaultPrevented})();matches||(matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),closest||(closest=function(e){let t=this;do{if(matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const scopeSelectorRegex=/:scope\b/,supportScopeQuery=(()=>{const e=document.createElement("div");try{e.querySelectorAll(":scope *")}catch(e){return!1}return!0})();supportScopeQuery||(find=function(e){if(!scopeSelectorRegex.test(e))return this.querySelectorAll(e);const t=Boolean(this.id);t||(this.id=getUID("scope"));let n=null;try{e=e.replace(scopeSelectorRegex,`#${this.id}`),n=this.querySelectorAll(e)}finally{t||this.removeAttribute("id")}return n},findOne=function(e){if(!scopeSelectorRegex.test(e))return this.querySelector(e);const t=find.call(this,e);return void 0!==t[0]?t[0]:null});const $=getjQuery(),namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,keyEventRegex=/^key/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function getUidEvent(e,t){return t&&`${t}::${uidEvent++}`||e.uidEvent||uidEvent++}function getEvent(e){const t=getUidEvent(e);return e.uidEvent=t,eventRegistry[t]=eventRegistry[t]||{},eventRegistry[t]}function fixEvent(e,t){null===e.which&&keyEventRegex.test(e.type)&&(e.which=null===e.charCode?e.keyCode:e.charCode),e.delegateTarget=t}function bootstrapHandler(e,t){return function n(s){return fixEvent(s,e),n.oneOff&&EventHandler.off(e,s.type,t),t.apply(e,[s])}}function bootstrapDelegationHandler(e,t,n){return function s(i){const o=e.querySelectorAll(t);for(let{target:t}=i;t&&t!==this;t=t.parentNode)for(let a=o.length;a--;)if(o[a]===t)return fixEvent(i,t),s.oneOff&&EventHandler.off(e,i.type,n),n.apply(t,[i]);return null}}function findHandler(e,t,n=null){const s=Object.keys(e);for(let i=0,o=s.length;i<o;i++){const o=e[s[i]];if(o.originalHandler===t&&o.delegationSelector===n)return o}return null}function normalizeParams(e,t,n){const s="string"==typeof t,i=s?n:t;let o=e.replace(stripNameRegex,"");const a=customEvents[o];return a&&(o=a),nativeEvents.indexOf(o)>-1||(o=e),[s,i,o]}function addHandler(e,t,n,s,i){if("string"!=typeof t||!e)return;n||(n=s,s=null);const[o,a,r]=normalizeParams(t,n,s),l=getEvent(e),c=l[r]||(l[r]={}),u=findHandler(c,a,o?n:null);if(u)return void(u.oneOff=u.oneOff&&i);const d=getUidEvent(a,t.replace(namespaceRegex,"")),g=o?bootstrapDelegationHandler(e,n,s):bootstrapHandler(e,n);g.delegationSelector=o?n:null,g.originalHandler=a,g.oneOff=i,g.uidEvent=d,c[d]=g,e.addEventListener(r,g,o)}function removeHandler(e,t,n,s,i){const o=findHandler(t[n],s,i);o&&(e.removeEventListener(n,o,Boolean(i)),delete t[n][o.uidEvent])}function removeNamespacedHandlers(e,t,n,s){const i=t[n]||{};Object.keys(i).forEach(o=>{if(o.indexOf(s)>-1){const s=i[o];removeHandler(e,t,n,s.originalHandler,s.delegationSelector)}})}const EventHandler={on(e,t,n,s){addHandler(e,t,n,s,!1)},one(e,t,n,s){addHandler(e,t,n,s,!0)},off(e,t,n,s){if("string"!=typeof t||!e)return;const[i,o,a]=normalizeParams(t,n,s),r=a!==t,l=getEvent(e),c="."===t.charAt(0);if(void 0!==o){if(!l||!l[a])return;return void removeHandler(e,l,a,o,i?n:null)}c&&Object.keys(l).forEach(n=>{removeNamespacedHandlers(e,l,n,t.slice(1))});const u=l[a]||{};Object.keys(u).forEach(n=>{const s=n.replace(stripUidRegex,"");if(!r||t.indexOf(s)>-1){const t=u[n];removeHandler(e,l,a,t.originalHandler,t.delegationSelector)}})},trigger(e,t,n){if("string"!=typeof t||!e)return null;const s=t.replace(stripNameRegex,""),i=t!==s,o=nativeEvents.indexOf(s)>-1;let a,r=!0,l=!0,c=!1,u=null;return i&&$&&(a=$.Event(t,n),$(e).trigger(a),r=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),o?(u=document.createEvent("HTMLEvents"),u.initEvent(s,r,!0)):u=createCustomEvent(t,{bubbles:r,cancelable:!0}),void 0!==n&&Object.keys(n).forEach(e=>{Object.defineProperty(u,e,{get:()=>n[e]})}),c&&(u.preventDefault(),defaultPreventedPreservedOnDispatch||Object.defineProperty(u,"defaultPrevented",{get:()=>!0})),l&&e.dispatchEvent(u),u.defaultPrevented&&void 0!==a&&a.preventDefault(),u}};function normalizeData(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function normalizeDataKey(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Manipulator={setDataAttribute(e,t,n){e.setAttribute(`data-${normalizeDataKey(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-${normalizeDataKey(t)}`)},getDataAttributes(e){if(!e)return{};const t={...e.dataset};return Object.keys(t).forEach(e=>{t[e]=normalizeData(t[e])}),t},getDataAttribute:(e,t)=>normalizeData(e.getAttribute(`data-${normalizeDataKey(t)}`)),offset(e){const t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},position:e=>({top:e.offsetTop,left:e.offsetLeft}),toggleClass(e,t){e&&(e.classList.contains(t)?e.classList.remove(t):e.classList.add(t))}},NODE_TEXT=3,SelectorEngine={matches:(e,t)=>matches.call(e,t),find:(e,t=document.documentElement)=>find.call(t,e),findOne:(e,t=document.documentElement)=>findOne.call(t,e),children(e,t){return makeArray(e.children).filter(e=>this.matches(e,t))},parents(e,t){const n=[];let s=e.parentNode;for(;s&&s.nodeType===Node.ELEMENT_NODE&&3!==s.nodeType;)this.matches(s,t)&&n.push(s),s=s.parentNode;return n},closest:(e,t)=>closest.call(e,t),prev(e,t){const n=[];let s=e.previousSibling;for(;s&&s.nodeType===Node.ELEMENT_NODE&&3!==s.nodeType;)this.matches(s,t)&&n.push(s),s=s.previousSibling;return n}},NAME="collapse",VERSION="4.3.1",DATA_KEY="bs.collapse",EVENT_KEY=".bs.collapse",DATA_API_KEY=".data-api",Default={toggle:!0,parent:""},DefaultType={toggle:"boolean",parent:"(string|element)"},Event$1={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},ClassName={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},Dimension={WIDTH:"width",HEIGHT:"height"},Selector={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'};class Collapse{constructor(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=makeArray(SelectorEngine.find(`[data-toggle="collapse"][href="#${e.id}"],`+`[data-toggle="collapse"][data-target="#${e.id}"]`));const n=makeArray(SelectorEngine.find(Selector.DATA_TOGGLE));for(let t=0,s=n.length;t<s;t++){const s=n[t],i=getSelectorFromElement(s),o=makeArray(SelectorEngine.find(i)).filter(t=>t===e);null!==i&&o.length&&(this._selector=i,this._triggerArray.push(s))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle(),Data.setData(e,DATA_KEY,this)}static get VERSION(){return"4.3.1"}static get Default(){return Default}toggle(){this._element.classList.contains(ClassName.SHOW)?this.hide():this.show()}show(){if(this._isTransitioning||this._element.classList.contains(ClassName.SHOW))return;let e,t;this._parent&&(e=makeArray(SelectorEngine.find(Selector.ACTIVES,this._parent)).filter(e=>"string"==typeof this._config.parent?e.getAttribute("data-parent")===this._config.parent:e.classList.contains(ClassName.COLLAPSE)),0===e.length&&(e=null));const n=SelectorEngine.findOne(this._selector);if(e){const s=e.filter(e=>n!==e);if(t=s[0]?Data.getData(s[0],DATA_KEY):null,t&&t._isTransitioning)return}if(EventHandler.trigger(this._element,Event$1.SHOW).defaultPrevented)return;e&&e.forEach(e=>{n!==e&&Collapse.collapseInterface(e,"hide"),t||Data.setData(e,DATA_KEY,null)});const s=this._getDimension();this._element.classList.remove(ClassName.COLLAPSE),this._element.classList.add(ClassName.COLLAPSING),this._element.style[s]=0,this._triggerArray.length&&this._triggerArray.forEach(e=>{e.classList.remove(ClassName.COLLAPSED),e.setAttribute("aria-expanded",!0)}),this.setTransitioning(!0);const i=`scroll${s[0].toUpperCase()+s.slice(1)}`,o=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,TRANSITION_END,()=>{this._element.classList.remove(ClassName.COLLAPSING),this._element.classList.add(ClassName.COLLAPSE),this._element.classList.add(ClassName.SHOW),this._element.style[s]="",this.setTransitioning(!1),EventHandler.trigger(this._element,Event$1.SHOWN)}),emulateTransitionEnd(this._element,o),this._element.style[s]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._element.classList.contains(ClassName.SHOW))return;if(EventHandler.trigger(this._element,Event$1.HIDE).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,reflow(this._element),this._element.classList.add(ClassName.COLLAPSING),this._element.classList.remove(ClassName.COLLAPSE),this._element.classList.remove(ClassName.SHOW);const t=this._triggerArray.length;if(t>0)for(let e=0;e<t;e++){const t=this._triggerArray[e],n=getElementFromSelector(t);n&&!n.classList.contains(ClassName.SHOW)&&(t.classList.add(ClassName.COLLAPSED),t.setAttribute("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[e]="";const n=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,TRANSITION_END,()=>{this.setTransitioning(!1),this._element.classList.remove(ClassName.COLLAPSING),this._element.classList.add(ClassName.COLLAPSE),EventHandler.trigger(this._element,Event$1.HIDDEN)}),emulateTransitionEnd(this._element,n)}setTransitioning(e){this._isTransitioning=e}dispose(){Data.removeData(this._element,DATA_KEY),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}_getConfig(e){return(e={...Default,...e}).toggle=Boolean(e.toggle),typeCheckConfig(NAME,e,DefaultType),e}_getDimension(){return this._element.classList.contains(Dimension.WIDTH)?Dimension.WIDTH:Dimension.HEIGHT}_getParent(){let{parent:e}=this._config;isElement(e)?void 0===e.jquery&&void 0===e[0]||(e=e[0]):e=SelectorEngine.findOne(e);const t=`[data-toggle="collapse"][data-parent="${e}"]`;return makeArray(SelectorEngine.find(t,e)).forEach(e=>{const t=getElementFromSelector(e);this._addAriaAndCollapsedClass(t,[e])}),e}_addAriaAndCollapsedClass(e,t){if(e){const n=e.classList.contains(ClassName.SHOW);t.length&&t.forEach(e=>{n?e.classList.remove(ClassName.COLLAPSED):e.classList.add(ClassName.COLLAPSED),e.setAttribute("aria-expanded",n)})}}static collapseInterface(e,t){let n=Data.getData(e,DATA_KEY);const s={...Default,...Manipulator.getDataAttributes(e),..."object"==typeof t&&t?t:{}};if(!n&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),n||(n=new Collapse(e,s)),"string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}static jQueryInterface(e){return this.each((function(){Collapse.collapseInterface(this,e)}))}static getInstance(e){return Data.getData(e,DATA_KEY)}}EventHandler.on(document,Event$1.CLICK_DATA_API,Selector.DATA_TOGGLE,(function(e){"A"===e.target.tagName&&e.preventDefault();const t=Manipulator.getDataAttributes(this),n=getSelectorFromElement(this);makeArray(SelectorEngine.find(n)).forEach(e=>{const n=Data.getData(e,DATA_KEY);let s;n?(null===n._parent&&"string"==typeof t.parent&&(n._config.parent=t.parent,n._parent=n._getParent()),s="toggle"):s=t,Collapse.collapseInterface(e,s)})}));const $$1=getjQuery();if($$1){const e=$$1.fn[NAME];$$1.fn[NAME]=Collapse.jQueryInterface,$$1.fn[NAME].Constructor=Collapse,$$1.fn[NAME].noConflict=()=>($$1.fn[NAME]=e,Collapse.jQueryInterface)}const NAME$1="toast",VERSION$1="4.3.1",DATA_KEY$1="bs.toast",EVENT_KEY$1=".bs.toast",Event$2={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},ClassName$1={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},DefaultType$1={animation:"boolean",autohide:"boolean",delay:"number"},Default$1={animation:!0,autohide:!0,delay:500},Selector$1={DATA_DISMISS:'[data-dismiss="toast"]'};class Toast{constructor(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners(),Data.setData(e,"bs.toast",this)}static get VERSION(){return"4.3.1"}static get DefaultType(){return DefaultType$1}static get Default(){return Default$1}show(){if(EventHandler.trigger(this._element,Event$2.SHOW).defaultPrevented)return;this._config.animation&&this._element.classList.add(ClassName$1.FADE);const e=()=>{this._element.classList.remove(ClassName$1.SHOWING),this._element.classList.add(ClassName$1.SHOW),EventHandler.trigger(this._element,Event$2.SHOWN),this._config.autohide&&(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))};if(this._element.classList.remove(ClassName$1.HIDE),reflow(this._element),this._element.classList.add(ClassName$1.SHOWING),this._config.animation){const t=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,TRANSITION_END,e),emulateTransitionEnd(this._element,t)}else e()}hide(){if(!this._element.classList.contains(ClassName$1.SHOW))return;if(EventHandler.trigger(this._element,Event$2.HIDE).defaultPrevented)return;const e=()=>{this._element.classList.add(ClassName$1.HIDE),EventHandler.trigger(this._element,Event$2.HIDDEN)};if(this._element.classList.remove(ClassName$1.SHOW),this._config.animation){const t=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,TRANSITION_END,e),emulateTransitionEnd(this._element,t)}else e()}dispose(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(ClassName$1.SHOW)&&this._element.classList.remove(ClassName$1.SHOW),EventHandler.off(this._element,Event$2.CLICK_DISMISS),Data.removeData(this._element,"bs.toast"),this._element=null,this._config=null}_getConfig(e){return e={...Default$1,...Manipulator.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}},typeCheckConfig(NAME$1,e,this.constructor.DefaultType),e}_setListeners(){EventHandler.on(this._element,Event$2.CLICK_DISMISS,Selector$1.DATA_DISMISS,()=>this.hide())}static jQueryInterface(e){return this.each((function(){let t=Data.getData(this,"bs.toast");if(t||(t=new Toast(this,"object"==typeof e&&e)),"string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}static getInstance(e){return Data.getData(e,"bs.toast")}}const $$2=getjQuery();if($$2){const e=$$2.fn.toast;$$2.fn.toast=Toast.jQueryInterface,$$2.fn.toast.Constructor=Toast,$$2.fn.toast.noConflict=()=>($$2.fn.toast=e,Toast.jQueryInterface)}let isSubscribed=!1,swRegistration=null;const pushButton=document.querySelector(".js-push-btn"),applicationServerPublicKey="BAvD4b287z3xfU293G2JSKXybiHv-19mNhzlvQmmDk9drnsWhPpeSC6d9uCThC4y4abw4gjyxA8YX9Z7rk4PfvI=";function initializeUI(){pushButton.addEventListener("click",()=>{pushButton.disabled=!0,isSubscribed?unsubscribeUser():subscribeUser()}),swRegistration.pushManager.getSubscription().then(e=>{isSubscribed=null!==e,isSubscribed?(updateSubscriptionOnServer(e),console.log("User IS subscribed.")):console.log("User is NOT subscribed."),updateBtn()})}function subscribeUser(){const e=urlB64ToUint8Array(applicationServerPublicKey);swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}).then(e=>{console.log("User is subscribed:",e),updateSubscriptionOnServer(e),isSubscribed=!0,updateBtn()}).catch(e=>{"denied"===Notification.permission?console.warn("Permission for notifications was denied"):console.error("Failed to subscribe the user: ",e),updateBtn()})}function unsubscribeUser(){swRegistration.pushManager.getSubscription().then(e=>{if(e)return e.unsubscribe()}).catch(e=>{console.log("Error unsubscribing",e)}).then(()=>{console.log("User is unsubscribed"),isSubscribed=!1,updateBtn()})}function updateSubscriptionOnServer(e){e?fetch("/api/v1/add_push",{method:"POST",mode:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{console.log("Updated!")}).catch(t=>{e&&alert("Fehler beim Aktivieren der Push-Benachrichtigungen: "+t)}):fetch("/api/v1/remove_push",{method:"POST",mode:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{console.log("Updated!")}).catch(t=>{e&&alert("Fehler beim Aktivieren der Push-Benachrichtigungen: "+t)})}function updateBtn(){if("denied"===Notification.permission)return pushButton.textContent="Push Messaging Blocked",void(pushButton.disabled=!0);pushButton.textContent=isSubscribed?"Disable Push Messaging":"Enable Push Messaging",pushButton.disabled=!1}function urlB64ToUint8Array(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),s=new Uint8Array(n.length);for(let e=0;e<n.length;++e)s[e]=n.charCodeAt(e);return s}function downloadAllArticles(){"v9"!==localStorage.getItem("offline")?setTimeout((function(){window.caches.open("v9").then((function(e){e.addAll(["/","/tags/bohemian-browser-ballett/","/categories/","/kohlrabi/","/ecosia/","/categories/empfehlungen/","/tags/greta-thunberg/","/rede-greta-thunberg/","/tags/kosmetik/","/categories/lebensmittelverschwendung/","/tags/meer/","/protokoll/2019-11-19/","/protokoll/2019-10-24/","/categories/mensa-talk/","/mikroplastik-in-kosmetik/","/categories/plastik/","/categories/politik/","/protokoll/","/categories/protokoll/","/protokoll/2019-12-03/","/tags/satire/","/tags/suchmaschine/","/tags/","/plastik-im-meer/","/categories/aktuelles/","/datenschutzerklaerung/","/offline/","/impressum/","/infos/"])})).then(e=>{localStorage.setItem("offline","v9"),document.getElementById("toast-offline").classList.remove("d-none"),new Toast(document.getElementById("toast-offline"),{delay:5e3}).show(),document.getElementById("toast-offline").addEventListener("hidden.bs.toast",(function(){document.getElementById("toast-offline").remove()}))}).catch(e=>{console.log("Fehler beim Offline gehen!",e)})}),1e4):console.log("articles already downloaded")}"serviceWorker"in navigator?window.addEventListener("load",()=>{console.log("Service Worker and Push is supported"),navigator.serviceWorker.register("http://localhost/sw.min.js",{scope:"http://localhost/"}).then(e=>{console.log("Service Worker is registered",e),swRegistration=e,"Notification"in window?initializeUI():(console.warn("Push messaging is not supported"),pushButton.textContent="Push Not Supported"),swRegistration.active&&"activated"===swRegistration.active.state&&(console.log(swRegistration.active),downloadAllArticles()),swRegistration.installing&&swRegistration.installing.addEventListener("statechange",(function(){console.log('[controllerchange][statechange] A "statechange" has occured: ',this.state),"activated"===this.state&&downloadAllArticles()}))}).catch(e=>{console.error("Service Worker Error",e)})}):(console.warn("Service worker is not supported"),pushButton.textContent="Push Not Supported");