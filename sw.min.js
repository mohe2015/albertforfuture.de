self.addEventListener('install',(event)=>{console.log('install');self.skipWaiting();event.waitUntil(caches.open('v8').then((cache)=>{return cache.addAll(['/custom.min.css','/logo.min.svg','/bundle.min.js','/sw.min.js','/index.min.js','/manifest.min.json','/offline/',]);}));});self.addEventListener('activate',event=>{console.log('activate_');self.clients.claim();event.waitUntil(caches.keys().then(function(cacheNames){return Promise.all(cacheNames.filter(function(cacheName){return cacheName!=='v8';}).map(function(cacheName){return caches.delete(cacheName);}));}));});self.addEventListener('fetch',(event)=>{var pathname=new URL(event.request.url).pathname;event.respondWith(caches.match(event.request).then(cacheResponse=>{return cacheResponse||fetch(event.request).then(response=>{return caches.open('v8').then(cache=>{cache.put(event.request,response.clone());return response;});}).catch(error=>{return caches.match('/offline/').then(function(response){return response;});});}))});self.addEventListener('push',function(event){console.log(`[Service Worker] Push had this data: "${event.data.text()}"`);const title='Push Codelab';const options={body:'Yay it works.',icon:'https://mohe2015.github.io/albertforfuture.de/logo.min.svg',};event.waitUntil(self.registration.showNotification(title,options));});self.addEventListener('notificationclick',function(event){console.log('[Service Worker] Notification click Received.');event.notification.close();event.waitUntil(clients.openWindow('https://developers.google.com/web/'));});